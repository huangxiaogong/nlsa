
* Usage

First edit the [[file:nlsa.yaml][nlsa.yaml]] to have a appropriate configuration. Here is an example configuration

#+BEGIN_EXAMPLE
data:
  wthermo:
    module: /home/noah/scratch/nlsa/data.py
    var: w
    tdim: t
lags: 20
recons:
  wthermo/q20/e1_a0/{tag}/Roscil:
    linmap: [1,2]
    time_range: [10000, 13000]
svds:
  wthermo/q20/e1_a0/wthermo/S1: 50
tags:
- wthermo
- T
- uX
#+END_EXAMPLE

* Issues 
** TODO SVD step does not work with multidimensional data


#+BEGIN_EXAMPLE
 nlsa [master] snakemake wthermo/q20/e1_a0/wthermo/S1/svd.pkl
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
countjobs
1svd
1
rule svd:
input: wthermo/q20/e1_a0/wthermo/amat.nc, wthermo/q20/e1_a0/orthog.pkl
output: wthermo/q20/e1_a0/wthermo/S1/svd.pkl, wthermo/q20/e1_a0/wthermo/S1/orthog.pkl
Error in job svd while creating output files wthermo/q20/e1_a0/wthermo/S1/svd.pkl, wthermo/q20/e1_a0/wthermo/S1/orthog.pkl.
RuleException:
ValueError in line 73 of /scratch/noah/nlsa/nlsa/recon.snakefile:
Dot product shape mismatch, (9978, 50) vs (15, 15, 50, 20)
#+END_EXAMPLE
